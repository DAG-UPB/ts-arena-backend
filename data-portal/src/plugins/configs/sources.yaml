##############################################################################
# REQUEST GROUPS - Multiple time series from a single API call
# Use this when an API returns multiple series or when you want to batch
# requests to the same API endpoint for efficiency.
##############################################################################

request_groups:
  # Example: Fingrid generation data - fetches multiple generation types with fewer API calls
  fingrid-generation-3min:
    module: src.plugins.data_sources.fingrid_multi_plugin
    class: FingridMultiSeriesPlugin
    schedule: 180 seconds  # 3 minutes
    request_params:
      # Common parameters for all series in this group
      page_size: 20000
    timeseries:
      - endpoint_prefix: fingrid-multi-192
        extract_filter:
          dataset_id: 192
        metadata:
          name: FINGRID-MULTI-192-FI-3min
          description: 'Electricity production in Finland based on the real-time measurements in Fingrid''s operation control system. The data is updated every 3 minutes.'
          frequency: 3 minutes
          unit: MW
          domain: energy
          category: generation
      - endpoint_prefix: fingrid-multi-191
        extract_filter:
          dataset_id: 191
        metadata:
          name: FINGRID-MULTI-191-FI-3min
          description: 'Hydro power production in Finland based on the real-time measurements in Fingrid''s operation control system. The data is updated every 3 minutes.'
          frequency: 3 minutes
          unit: MW
          domain: energy
          category: generation
      - endpoint_prefix: fingrid-multi-181
        extract_filter:
          dataset_id: 181
        metadata:
          name: FINGRID-MULTI-181-FI-3min
          description: 'Wind power production based on the real-time measurements in Fingrid''s operation control system. About two percent of the production capacity is estimated as measurements aren''t available. The data is updated every 3 minutes.'
          frequency: 3 minutes
          unit: MW
          domain: energy
          category: generation
      - endpoint_prefix: fingrid-multi-188
        extract_filter:
          dataset_id: 188
        metadata:
          name: FINGRID-MULTI-188-FI-3min
          description: 'Nuclear power production in Finland based on the real-time measurements in Fingrid''s operation control system. The data is updated every 3 minutes.'
          frequency: 3 minutes
          unit: MW
          domain: energy
          category: generation

  gridstatus-caiso-fuel-mix:
    module: src.plugins.data_sources.gridstatus_plugin
    class: GridStatusMultiSeriesPlugin
    schedule: 5 minutes
    request_params:
      iso: CAISO
      dataset: fuel_mix
    timeseries:
      - endpoint_prefix: gridstatus-caiso-solar
        extract_filter:
          value_column: Solar
        metadata:
          name: GRIDSTATUS-CAISO-Solar-5min
          description: 'California ISO solar generation'
          frequency: 5 minutes
          unit: MW
          domain: energy
          category: generation
      - endpoint_prefix: gridstatus-caiso-wind
        extract_filter:
          value_column: Wind
        metadata:
          name: GRIDSTATUS-CAISO-Wind-5min
          description: 'California ISO wind generation'
          frequency: 5 minutes
          unit: MW
          domain: energy
          category: generation
      - endpoint_prefix: gridstatus-caiso-nuclear
        extract_filter:
          value_column: Nuclear
        metadata:
          name: GRIDSTATUS-CAISO-Nuclear-5min
          description: 'California ISO nuclear generation'
          frequency: 5 minutes
          unit: MW
          domain: energy
          category: generation
      - endpoint_prefix: gridstatus-caiso-natural-gas
        extract_filter:
          value_column: Natural Gas
        metadata:
          name: GRIDSTATUS-CAISO-NaturalGas-5min
          description: 'California ISO natural gas generation'
          frequency: 5 minutes
          unit: MW
          domain: energy
          category: generation
      - endpoint_prefix: gridstatus-caiso-hydro
        extract_filter:
          value_column: Large Hydro
        metadata:
          name: GRIDSTATUS-CAISO-Hydro-5min
          description: 'California ISO large hydro generation'
          frequency: 5 minutes
          unit: MW
          domain: energy
          category: generation

  # =====================
  # CAISO - Load (single series, but using multi for consistency)
  # =====================
  gridstatus-caiso-load:
    module: src.plugins.data_sources.gridstatus_plugin
    class: GridStatusMultiSeriesPlugin
    schedule: 5 minutes
    request_params:
      iso: CAISO
      dataset: load
    timeseries:
      - endpoint_prefix: gridstatus-caiso-load
        extract_filter:
          value_column: Load
        metadata:
          name: GRIDSTATUS-CAISO-Load-5min
          description: 'California ISO total electricity load'
          frequency: 5 minutes
          unit: MW
          domain: energy
          category: load

  # =====================
  # CAISO - LMP (Prices)
  # =====================
  gridstatus-caiso-lmp:
    module: src.plugins.data_sources.gridstatus_plugin
    class: GridStatusMultiSeriesPlugin
    schedule: 5 minutes
    request_params:
      iso: CAISO
      dataset: lmp
      market: REAL_TIME_5_MIN
    timeseries:
      - endpoint_prefix: gridstatus-caiso-lmp
        extract_filter:
          value_column: LMP
        metadata:
          name: GRIDSTATUS-CAISO-LMP-5min
          description: 'California ISO real-time locational marginal price'
          frequency: 5 minutes
          unit: $/MWh
          domain: energy
          category: price

  # =====================
  # NYISO (New York) - Fuel Mix
  # =====================
  gridstatus-nyiso-fuel-mix:
    module: src.plugins.data_sources.gridstatus_plugin
    class: GridStatusMultiSeriesPlugin
    schedule: 5 minutes
    request_params:
      iso: NYISO
      dataset: fuel_mix
    timeseries:
      - endpoint_prefix: gridstatus-nyiso-wind
        extract_filter:
          value_column: Wind
        metadata:
          name: GRIDSTATUS-NYISO-Wind-5min
          description: 'New York ISO wind generation'
          frequency: 5 minutes
          unit: MW
          domain: energy
          category: generation
      - endpoint_prefix: gridstatus-nyiso-hydro
        extract_filter:
          value_column: Hydro
        metadata:
          name: GRIDSTATUS-NYISO-Hydro-5min
          description: 'New York ISO hydro generation'
          frequency: 5 minutes
          unit: MW
          domain: energy
          category: generation
      - endpoint_prefix: gridstatus-nyiso-nuclear
        extract_filter:
          value_column: Nuclear
        metadata:
          name: GRIDSTATUS-NYISO-Nuclear-5min
          description: 'New York ISO nuclear generation'
          frequency: 5 minutes
          unit: MW
          domain: energy
          category: generation
      - endpoint_prefix: gridstatus-nyiso-natural-gas
        extract_filter:
          value_column: Natural Gas
        metadata:
          name: GRIDSTATUS-NYISO-NaturalGas-5min
          description: 'New York ISO natural gas generation'
          frequency: 5 minutes
          unit: MW
          domain: energy
          category: generation

  # =====================
  # NYISO - Load (multiple zones available)
  # =====================
  gridstatus-nyiso-load:
    module: src.plugins.data_sources.gridstatus_plugin
    class: GridStatusMultiSeriesPlugin
    schedule: 5 minutes
    request_params:
      iso: NYISO
      dataset: load
    timeseries:
      - endpoint_prefix: gridstatus-nyiso-load-total
        extract_filter:
          value_column: Load
        metadata:
          name: GRIDSTATUS-NYISO-Load-5min
          description: 'New York ISO total electricity load'
          frequency: 5 minutes
          unit: MW
          domain: energy
          category: load
      - endpoint_prefix: gridstatus-nyiso-load-nyc
        extract_filter:
          value_column: N.Y.C.
        metadata:
          name: GRIDSTATUS-NYISO-NYC-Load-5min
          description: 'New York City zone load'
          frequency: 5 minutes
          unit: MW
          domain: energy
          category: load

  # =====================
  # MISO (Midwest) - Fuel Mix
  # =====================
  gridstatus-miso-fuel-mix:
    module: src.plugins.data_sources.gridstatus_plugin
    class: GridStatusMultiSeriesPlugin
    schedule: 5 minutes
    request_params:
      iso: MISO
      dataset: fuel_mix
    timeseries:
      - endpoint_prefix: gridstatus-miso-wind
        extract_filter:
          value_column: Wind
        metadata:
          name: GRIDSTATUS-MISO-Wind-5min
          description: 'Midwest ISO wind generation'
          frequency: 5 minutes
          unit: MW
          domain: energy
          category: generation
      - endpoint_prefix: gridstatus-miso-solar
        extract_filter:
          value_column: Solar
        metadata:
          name: GRIDSTATUS-MISO-Solar-5min
          description: 'Midwest ISO solar generation'
          frequency: 5 minutes
          unit: MW
          domain: energy
          category: generation
      - endpoint_prefix: gridstatus-miso-coal
        extract_filter:
          value_column: Coal
        metadata:
          name: GRIDSTATUS-MISO-Coal-5min
          description: 'Midwest ISO coal generation'
          frequency: 5 minutes
          unit: MW
          domain: energy
          category: generation
      - endpoint_prefix: gridstatus-miso-natural-gas
        extract_filter:
          value_column: Natural Gas
        metadata:
          name: GRIDSTATUS-MISO-NaturalGas-5min
          description: 'Midwest ISO natural gas generation'
          frequency: 5 minutes
          unit: MW
          domain: energy
          category: generation

  # =====================
  # MISO - Load
  # =====================
  gridstatus-miso-load:
    module: src.plugins.data_sources.gridstatus_plugin
    class: GridStatusMultiSeriesPlugin
    schedule: 5 minutes
    request_params:
      iso: MISO
      dataset: load
    timeseries:
      - endpoint_prefix: gridstatus-miso-load
        extract_filter:
          value_column: Load
        metadata:
          name: GRIDSTATUS-MISO-Load-5min
          description: 'Midwest ISO total electricity load'
          frequency: 5 minutes
          unit: MW
          domain: energy
          category: load

# =====================
# Available value_column options by ISO/dataset:
# =====================
# 
# CAISO fuel_mix: Solar, Wind, Geothermal, Biomass, Biogas, Small Hydro, 
#                 Coal, Nuclear, Natural Gas, Large Hydro, Batteries, Imports, Other
# CAISO load: Load
# CAISO lmp: LMP, Energy, Congestion, Loss, GHG
#
# MISO fuel_mix: Coal, Imports, Natural Gas, Nuclear, Other, Solar, Wind
# MISO load: Load
# MISO lmp: LMP, Energy, Congestion, Loss
#
# NYISO load: Load, CAPITL, CENTRL, DUNWOD, GENESE, HUD VL, LONGIL, 
#             MHK VL, MILLWD, N.Y.C., NORTH, WEST
# NYISO fuel_mix: Dual Fuel, Hydro, Natural Gas, Nuclear, Other Fossil Fuels, 
#                 Other Renewables, Wind
# NYISO lmp: LMP, Energy, Congestion, Loss



##############################################################################
# TIMESERIES - Single time series per plugin (legacy/simple cases)
# Use this when each API call returns exactly one time series.
##############################################################################

timeseries:
  smard-410-de-quarterhour:
    module: src.plugins.data_sources.smard_plugin
    class: SmardDataSourcePlugin
    metadata:
      name: SMARD-410-DE-quarterhour
      description: 'Electricity consumption: Total (grid load)'
      frequency: 15 minutes
      unit: MWh
      domain: energy
      category: load
    default_params:
      filter: 410
      region: DE
      resolution: quarterhour
  smard-4359-de-hour:
    module: src.plugins.data_sources.smard_plugin
    class: SmardDataSourcePlugin
    metadata:
      name: SMARD-4359-DE-hour
      description: 'Electricity consumption: Residual load'
      frequency: 1 hour
      unit: MWh
      domain: energy
      category: load
    default_params:
      filter: 4359
      region: DE
      resolution: hour

  smard-4169-de-quarterhour:
    module: src.plugins.data_sources.smard_plugin
    class: SmardDataSourcePlugin
    metadata:
      name: SMARD-4169-DE-quarterhour
      description: 'Market price: Germany/Luxembourg'
      frequency: 15 minutes
      unit: Euro
      domain: energy
      category: price
    default_params:
      filter: 4169
      region: DE
      resolution: quarterhour
  fingrid-399:
    module: src.plugins.data_sources.fingrid_plugin
    class: FingridDataSourcePlugin
    metadata:
      name: FINGRID-399-FI-3min
      description: 'Battery energy storage system charging power based on the real-time measurements in Fingrid''s operation control system. The calculation adds up the measurements when the value shows power going towards the battery. The value is always positive. The data can contain errors due to, for example, measurements freezing.'
      frequency: 3 minutes
      unit: MW
      domain: energy
      category: load
    default_params:
      dataset_id: 399
#   fingrid-245:
#     module: src.plugins.data_sources.fingrid_plugin
#     class: FingridDataSourcePlugin
#     metadata:
#       name: Wind power generation forecast - updated every 15 minutes
#       description: 'Finnish wind power generation forecast for the next 72 hours. The forecast is updated every 15 minutes. The forecast is based on production measurements from individual wind parks, weather forecasts from multiple providers, and data about the location, size and capacity of wind turbines. The forecast takes into account the effect of Day Ahead electricity price on wind power production. The electricity price is included at 15:30 on the previous day. The data before 31.05.2023 is in hourly resolution.'
#       frequency: 15 minutes
#       unit: MWh/h
#       domain: energy
#       category: price
#     default_params:
#       dataset_id: 245
  # fingrid-251:
  #   module: src.plugins.data_sources.fingrid_plugin
  #   class: FingridDataSourcePlugin
  #   metadata:
  #     name: Price of the last activated down-regulation bid - real-time data
  #     description: 'The dataset will no longer be updated after the mFRR EAM went live on 4 March 2025. The price of the last activated down-regulation bid. The price is published real-time when Finland is a separate regulation area. Finland is its own separate regulation area in a situation where the border transmission connections between Finland and the Nordic countries are fully operational, which means that no more balancing energy can be exported to the other Nordic countries. In this case, only Finnish offers can be used. The balancing energy market is used to balance electricity production and consumption in real time. Fingrid orders up- or down-regulation, i.e. balancing energy, from the balancing energy market as needed. Down-regulation can be a reduction in production or an increase in consumption and the price for down-regulation is determined by the cheapest down-regulation offer used. In situations where Fingrid has activated balancing energy for purposes other than balancing, the published price may differ from the final price for balancing energy. The published price is indicative.'
  #     frequency: 1 hour
  #     unit: EUR/MWh
  #     domain: energy
  #     category: price
  #   default_params:
  #     dataset_id: 251
  fingrid-371:
    module: src.plugins.data_sources.fingrid_plugin
    class: FingridDataSourcePlugin
    metadata:
      name: FINGRID-371-FI-1minute
      description: The sum of measured consumption of electric boilers is based on real-time time measurement in Fingrids operational control system. The data is updated every minute.
      frequency: 1 minute
      unit: MW
      domain: energy
      category: load
    default_params:
      dataset_id: 371
  fingrid-205:
    module: src.plugins.data_sources.fingrid_plugin
    class: FingridDataSourcePlugin
    metadata:
      name: FINGRID-205-FI-3min
      description: 'Reserve power plants electrical production is based on the real-time measurements in Fingrid''s operation control system. Estimated small-scale production is added, of which there are no measurements available. The data is updated every 3 minutes.'
      frequency: 3 minutes
      unit: MW
      domain: energy
      category: generation
    default_params:
      dataset_id: 205

  fingrid-260:
    module: src.plugins.data_sources.fingrid_plugin
    class: FingridDataSourcePlugin
    metadata:
      name: FINGRID-260-FI-quarterhour
      description: Real-time estimate of the kinetic energy of the Nordic power system calculated by the Nordic transmission system operators. The data is updated every 15 minute. Historical data as of 27.3.2015 available.
      frequency: 15 minutes
      unit: 1 GWs
      domain: energy
      category: transmission
    default_params:
      dataset_id: 260
  fingrid-87:
    module: src.plugins.data_sources.fingrid_plugin
    class: FingridDataSourcePlugin
    metadata:
      name: FINGRID-87-FI-3min
      description: 'Power transmission between Northern Sweden (SE1) and Finland (FI) 400kV AC tie line. Data is based on the real-time measurements in Fingrid''s operation control system. Positive sign means transmission from Finland to Northern Sweden (SE1). Negative sign means transmission from Northern Sweden (SE1) to Finland. The data is updated every 3 minutes.'
      frequency: 3 minutes
      unit: MW
      domain: energy
      category: transmission
    default_params:
      dataset_id: 87
  fingrid-201:
    module: src.plugins.data_sources.fingrid_plugin
    class: FingridDataSourcePlugin
    metadata:
      name: FINGRID-201-FI-3min
      description: 'Cogeneration of district heating based on the real-time measurements in Fingrid''s operation control system. The data is updated every 3 minutes. Cogeneration means power plants that produce both electricity and district heating or process steam (combined heat and power, CHP).'
      frequency: 3 minutes
      unit: MW
      domain: energy
      category: generation
    default_params:
      dataset_id: 201
  fingrid-192:
    module: src.plugins.data_sources.fingrid_plugin
    class: FingridDataSourcePlugin
    metadata:
      name: FINGRID-192-FI-3min
      description: 'Electricity production in Finland based on the real-time measurements in Fingrid''s operation control system. The data is updated every 3 minutes.'
      frequency: 3 minutes
      unit: MW
      domain: energy
      category: generation
    default_params:
      dataset_id: 192
  fingrid-193:
    module: src.plugins.data_sources.fingrid_plugin
    class: FingridDataSourcePlugin
    metadata:
      name: FINGRID-193-FI-3min
      description: 'Electricity consumption in Finland is calculated based on production and import/export. The data is updated every 3 minutes. Production information and import/export are based on the real-time measurements in Fingrid''s operation control system.'
      frequency: 3 minutes
      unit: MW
      domain: energy
      category: load
    default_params:
      dataset_id: 193
  fingrid-402:
    module: src.plugins.data_sources.fingrid_plugin
    class: FingridDataSourcePlugin
    metadata:
      name: FINGRID-402-FI-quarterhour
      description: 'Price of direct activation formed in mFRR energy market. The price is published at the time of direct activation, which is between the scheduled activations. The price of direct activation is used for the market time unit following the direct activation and is replaced by the price of the scheduled activation if it is lower. The price published in real-time is not necessarily the final price, as the final price for each market time unit is published 15 minutes after the end of the market time unit. Real-time price publication may be suspended if it compromises the operational security of the power system or the predictability of the power balance.'
      frequency: 15 minutes
      unit: €/MWh
      domain: energy
      category: price
    default_params:
      dataset_id: 402
  fingrid-191:
    module: src.plugins.data_sources.fingrid_plugin
    class: FingridDataSourcePlugin
    metadata:
      name: FINGRID-191-FI-3min
      description: 'Hydro power production in Finland based on the real-time measurements in Fingrid''s operation control system. The data is updated every 3 minutes.'
      frequency: 3 minutes
      unit: MW
      domain: energy
      category: generation
    default_params:
      dataset_id: 191
  fingrid-181:
    module: src.plugins.data_sources.fingrid_plugin
    class: FingridDataSourcePlugin
    metadata:
      name: FINGRID-181-FI-3min
      description: 'Wind power production based on the real-time measurements in Fingrid''s operation control system. About two percent of the production capacity is estimated as measurements aren''t available. The data is updated every 3 minutes.'
      frequency: 3 minutes
      unit: MW
      domain: energy
      category: generation
    default_params:
      dataset_id: 181
  fingrid-396:
    module: src.plugins.data_sources.fingrid_plugin
    class: FingridDataSourcePlugin
    metadata:
      name: FINGRID-396-FI-quarterhour
      description: 'Estimate of carbon dioxide of produced electricity, which is consumed in Finland. The same data can be found in 3-minute resolution in dataset called “Emission factor for electricity consumed in Finland - real-time data”. The emissions are estimated by taking Finland''s electricity production, electricity import as well as electricity export into account. Emissions from electricity consumed in Finland = (Emissions from electricity production in Finland + Emissions from electricity imported into Finland - Emissions from electricity exported from Finland) / (Electricity output in Finland + Electricity imported into Finland - Electricity exported from Finland). The data is updated every 15 minutes'
      frequency: 15 minutes
      unit: gCO2/kWh
      domain: energy
      category: generation
    default_params:
      dataset_id: 396
  fingrid-188:
    module: src.plugins.data_sources.fingrid_plugin
    class: FingridDataSourcePlugin
    metadata:
      name: FINGRID-188-FI-3min
      description: 'Nuclear power production in Finland based on the real-time measurements in Fingrid''s operation control system. The data is updated every 3 minutes.'
      frequency: 3 minutes
      unit: MW
      domain: energy
      category: generation
    default_params:
      dataset_id: 188
  fingrid-202:
    module: src.plugins.data_sources.fingrid_plugin
    class: FingridDataSourcePlugin
    metadata:
      name: FINGRID-202-FI-3min
      description: 'Industrial cogeneration based on the real-time measurements in Fingrid''s operation control system. The data is updated every 3 minutes. Cogeneration means power plants that produce both electricity and district heating or process steam (combined heat and power, CHP).'
      frequency: 3 minutes
      unit: MW
      domain: energy
      category: generation
    default_params:
      dataset_id: 202
  fingrid-398:
    module: src.plugins.data_sources.fingrid_plugin
    class: FingridDataSourcePlugin
    metadata:
      name: FINGRID-398-FI-3min
      description: 'Battery energy storage system discharge power based on the real-time measurements in Fingrid''s operation control system. The calculation adds up the measurements when the value shows power going towards the grid. The value is always positive. The data can contain errors due to, for example, measurements freezing.'
      frequency: 3 minutes
      unit: MW
      domain: energy
      category: load
    default_params:
      dataset_id: 398
  fingrid-395:
    module: src.plugins.data_sources.fingrid_plugin
    class: FingridDataSourcePlugin
    metadata:
      name: FINGRID-395-FI-quarterhour
      description: 'The data is a 15 minute average that is calculated every 15 minutes. The estimate is based on electricity generation measurements and the used fuel types published by the generators. The electricity generators have been categorised into fuel type groups. Some of the fuel type groups are assumed to generate electricity without burning fossil fuels. The fuel type groups for electricity generation are corresponding with the electricity generation categorisations of the ENTSO-E transparency platform.  Fuel type groups ‘Biomass’, ‘Solar’, ‘Wind Onshore’, ‘Hydro run-off river and poundage’, ‘Other renewable’ and ‘Nuclear’ are considered non-fossil electricity generation.   Power plants categorised as ‘Biomass’ or ‘Other renewable’ may burn some fossil fuels in their electricity generation. Thereby, this dataset is not an official statistic of the non-fossil electricity generation in Finland. Rather it is a near real-time estimation.  The dataset was first published in June 2025. The data is provided retroactively from the beginning of the year 2025.'
      frequency: 15 minutes
      unit: '%'
      domain: energy
      category: load
    default_params:
      dataset_id: 395
#   fingrid-32:
#     module: src.plugins.data_sources.fingrid_plugin
#     class: FingridDataSourcePlugin
#     metadata:
#       name: Commercial transmission of electricity between FI-SE3
#       description: 'Commercial flow on border FI-SE3. Commercial flow includes sum flow from Day-ahead and Intraday markets. Positive value is (+) export and negative value is (-) import.Data is updated as follows: Previous day once per hour h + 2 min. Current and following day once per hour h + 45 min.'
#       frequency: 15 minutes
#       unit: MW
#       domain: energy
#       category: transmission
#     default_params:
#       dataset_id: 32
#   fingrid-74:
#     module: src.plugins.data_sources.fingrid_plugin
#     class: FingridDataSourcePlugin
#     metadata:
#       name: Electricity production in Finland
#       description: 'Electricity production in Finland are based on Fingrid''s measurements. Minor part of production which is not measured is estimated. The data before 13.06.2023 is in hourly resolution.'
#       frequency: 15 minutes
#       unit: MWh/h
#       domain: energy
#       category: load
#     default_params:
#       dataset_id: 74
